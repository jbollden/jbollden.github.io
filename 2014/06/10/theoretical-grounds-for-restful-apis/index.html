<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Theoretical grounds for RESTful APIs &middot; Jonas Bolldén</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="/2014/06/10/theoretical-grounds-for-restful-apis/" />

     <meta name="description" content="There is a lot said and written about REST and being RESTful, and in this post I give my two cents when it comes to what theoretical grounds I use when creating" /> 

     
    
    <meta name="twitter:card" content="summary"/>
    
 
    <meta name="twitter:title" content="Theoretical grounds for RESTful APIs"/>
    <meta name="twitter:description" content="There is a lot said and written about REST and being RESTful, and in this post I give my two cents when it comes to what theoretical grounds I use when creating"/>
    <meta name="twitter:url" content="/2014/06/10/theoretical-grounds-for-restful-apis/" />
    <meta name="twitter:site" content="@jonasbollden"/>

    <meta property="og:site_name" content="Jonas Bolldén" />
    <meta property="og:title" content="Theoretical grounds for RESTful APIs &middot; Jonas Bolldén" />
    <meta property="og:url" content="/2014/06/10/theoretical-grounds-for-restful-apis/" />
    <meta property="article:publisher" content="https://www.facebook.com/jonasbollden" />

    <meta property="og:type" content="article" />
    <meta property="og:description" content="There is a lot said and written about REST and being RESTful, and in this post I give my two cents when it comes to what theoretical grounds I use when creating" />

    <meta property="article:published_time" content="2014-06-10T16:35:00&#43;02:00" />
    <meta property="article:tag" content="api" /><meta property="article:tag" content="rest" /><meta property="article:tag" content="restful" /><meta property="article:tag" content="roa" /><meta property="article:tag" content="web" />

    <meta property="og:image" content="/img/backdrops/Norrbotten_PanoramaMire_2017-07-26_1584x424.jpg"/>

    <meta name="generator" content="Hugo 0.40.3" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="/built/screen.css" /> 
    <link rel="stylesheet" type="text/css" href="/css/casper-two.css" /> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" />
     <link rel="stylesheet" href="/css/custom.css" /> 

     

</head>


<body class="ctsingle">

  <div class="site-wrapper"> 

<header class="site-header outer "  style="background-image: url(/img/backdrops/Norrbotten_PanoramaMire_2017-07-26_1584x424.jpg)"  >
  <div class="inner">
    <div class="site-header-content">
      <h1 class="site-title"> Jonas Bolldén  </h1>
        <h2 class="site-description"> </h2>
    </div>

    <nav class="site-nav">
      <div class="site-nav-left"><ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/tags/">Tags</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/about/">About</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/profile/">Profile</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    <a class="social-link social-link-fb" href="https://www.facebook.com/jonasbollden" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg></a>

                    <a class="social-link social-link-tw" href="https://twitter.com/jonasbollden" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/jonasbollden" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    <a class="social-link" href="https://www.linkedin.com/in/jonasbollden" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 50 512 512"><path d="M150.65,100.682c0,27.992-22.508,50.683-50.273,50.683c-27.765,0-50.273-22.691-50.273-50.683 C50.104,72.691,72.612,50,100.377,50C128.143,50,150.65,72.691,150.65,100.682z M143.294,187.333H58.277V462h85.017V187.333z M279.195,187.333h-81.541V462h81.541c0,0,0-101.877,0-144.181c0-38.624,17.779-61.615,51.807-61.615 c31.268,0,46.289,22.071,46.289,61.615c0,39.545,0,144.181,0,144.181h84.605c0,0,0-100.344,0-173.915 s-41.689-109.131-99.934-109.131s-82.768,45.369-82.768,45.369V187.333z" /></svg></a>

                    
        </div>  
            
      </div>

    </nav>  

  </div>
</header>


<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
    <div class="post-feed">
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/2014/06/10/theoretical-grounds-for-restful-apis/">
      <div class="post-card-image" style="background-image: url(/defimg/7.jpg)"></div>
    </a>    
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/2014/06/10/theoretical-grounds-for-restful-apis/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #api 
              #rest 
              #restful 
              #roa 
              #web  </span>
              
              <h2 class="post-card-title">Theoretical grounds for RESTful APIs</h2>
          </header>
      </a>
      <section class="post-card-excerpt" style="padding: 0 25px;">
          

<p>There is a lot said and written about REST and being RESTful, and in this post I give my two cents when it comes to what theoretical grounds I use when creating RESTful <abbr title="Application programming interface">API</abbr>s.</p>

<p>In the year 2000 Roy Thomas Fielding published his dissertation <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">Architectural Styles and the Design of Network-based Software Architectures</a>. The last sentence of the abstract&rsquo;s third paragraph reads:</p>

<blockquote>
<p>I then introduce the Representational State Transfer (REST) architectural style and describe how REST has been used to guide the design and development of the architecture for the modern Web.</p>
</blockquote>

<p>It is in Chapter 5 Fielding at length introduces the Representational State Transfer. Fielding lists a number of constraints to be used in order to decide whether an application conforms to REST or not. If the application is conforming to the constraints it is said to be &ldquo;RESTful&rdquo;.</p>

<p>When reading this dissertation one should not forget what it is; an academic text written in an academic context for an academic audience. Even though not all academic texts are written in a way that makes it difficult for non-academics to understand, I personally have a hard time following Fielding&rsquo;s line of thought. Therefore, I searched for books that could explain the concepts of REST and being RESTful in a more practical sense. I found three books, all from <a href="http://www.oreilly.com">O&rsquo;Reilly Media</a>:</p>

<ul>
<li>Allamaraju, S. (2010). RESTful Web Services Cookbook. Sebastopol: O&rsquo;Reilly Media.</li>
<li>Richardson, L. &amp; Amundsen, M. (2013). RESTful Web APIs. Sebastopol: O&rsquo;Reilly Media.</li>
<li>Richardson, L. &amp; Ruby, S. (2007). RESTful Web Services. Sebastopol: O&rsquo;Reilly Media.</li>
</ul>

<p>In Appendix C Richardson and Amundsen (2013) explains the Fielding constraints in a more developer-friendly language. What they write in Appendix C is in a way a shorter version of the Wikipedia article on <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">Representational state transfer</a> but also in a way a deeper text. All in all, this book is a good read but it is very advanced and I would only recommend it to web service experts with experience in RESTful APIs.</p>

<p>Allamaraju (2010) is also a good book which follows O&rsquo;Reilly&rsquo;s traditions of cookbooks; the author presents a problem and gives an answer, a recipe. It is a pretty straightforward book and I use it as reference when I am in need of recipes.</p>

<p>Richardson and Ruby (2007) introduces the <a href="http://en.wikipedia.org/wiki/Resource-oriented_architecture">Resource-Oriented Architecture</a> (ROA) and in this they also summarise Fielding&rsquo;s constraints into four properties; addressability, statelessness, the uniform interface, and connectedness. Applying the principles of these four properties on the resources you have identified will help you make your API RESTful. This architecture is said to be resource-oriented, therefore I first need to define what is meant with a resource in ROA.</p>

<h2 id="resource">Resource</h2>

<p>Richardson and Ruby (2007) defines a resource as &ldquo;anything that&rsquo;s important enough to be referenced as a thing in itself&rdquo; (p. 83), this definition is also found in Richardson and Amundsen (2013, p. 30). Allamaraju (2010) defines it a bit more loosely as &ldquo;anything that can be identified by a <abbr title="Uniform resource identifier">URI</abbr>&rdquo; (p. 261). However, the most descriptive definition is found in the Glossary of Richardson and Amundsen, which reads:</p>

<blockquote>
<p>A resource can be anything: a web page, a person, that person&rsquo;s name, a measurement of his weight on a given day, his relationship to another person&hellip; anything at all. The only restriction is that a resource must have its own URI. Without a URI, there&rsquo;s nothing to talk about.<br />&nbsp;<br />
A client will never directly interact with a resource. It only sees descriptions of a resource&rsquo;s state, written down in representations. (p. 361)</p>
</blockquote>

<p>This defines what a resource is through examples, and at the same time introduces some key concepts regarding resources. First, a URI is required for each resource, i.e. a resource must be uniquely identified, and secondly, a client works with representations of a resource, not the resource itself.</p>

<p>You could think of a resource as a text file located on a server, this file is uniquely identified by its path and name on that server. Downloading the file to your computer will not alter the file on the server; rather you have a copy, a representation of the server&rsquo;s file.</p>

<h2 id="properties-of-roa">Properties of ROA</h2>

<p>There are four principles of ROA according to Richardson and Ruby (2007). I see them as a summary of the Fielding constraints, and by applying them to each resource you have identified for your API you will be able to get far in getting a RESTful API.</p>

<h3 id="addressability">Addressability</h3>

<p>Every resource needs to be available, which means that the resource needs a unique address, e.g. a file has a path and a name that makes it uniquely addressable. On the web this means that a resource has a <abbr title="Uniform resource locator">URL</abbr>, accessing that URL will retrieve a representation of that particular resource and not any other resource.</p>

<h3 id="statelessness">Statelessness</h3>

<p>A RESTful API should not need to bother about application state, which is the client&rsquo;s concern. This means that &ldquo;every request is handled in isolation and evaluated against the current resource state&rdquo; (Richardson &amp; Ruby, 2007, p. 222) and the server are responsible for the resource state.</p>

<p>A simple way to exemplify statelessness is to think of a resource or an entire API that requires authorisation. Every request the client does have to contain information required to authorise the request, i.e. the server will not hold any information about the user being logged in other than validating the credentials sent with each particular request.</p>

<h3 id="the-uniform-interface">The Uniform Interface</h3>

<p>Most of today&rsquo;s applications are based on some sort of <abbr title="Create, Read, Update, and Delete">CRUD</abbr> actions, and when it comes to RESTful APIs there is no need to build functions for CRUD because they are already present in <abbr title="Hypertext Transfer Protocol">HTTP</abbr> which is most likely the protocol used for interactions between clients and the API of the server.</p>

<p>In HTTP there are a number of methods that among other things expresses the different parts of CRUD. In <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">Section 9</a> of <a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">RFC 2616</a> the different methods are defined. Fielding is one of the authors behind RFC 2616, the main document describing HTTP/1.1.</p>

<p>Even though I am aware that POST can be used as an update action I try to use just one method for each action. Through this I can be consistent in what each method is supposed to do. POST is also, in my mind, the most difficult method to use for anything else than the create action. The table below shows how I tend to use these methods:
<table>
        <tr>
            <th>CRUD</th>
            <th>HTTP</th>
        </tr>
        <tr>
            <td>Create</td>
            <td>POST</td>
        </tr>
        <tr>
            <td>Read</td>
            <td>GET</td>
        </tr>
        <tr>
            <td>Update</td>
            <td>PUT</td>
        </tr>
        <tr>
            <td>Delete</td>
            <td>DELETE</td>
        </tr>
</table></p>

<p>Another, sometimes forgotten, part of the uniform interface is that HTTP actually includes predefined response codes that should be used; defined in <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">Section 10</a> of RFC 2616. If a resource is missing, respond with 404, if everything is OK, respond with 200; all in accordance with the definition of HTTP. To some extent, HTTP could actually be seen as a framework for REST.</p>

<h3 id="connectedness">Connectedness</h3>

<p>By applying what Richardson and Ruby (2007) terms connectedness to your API, you will get a service that guides the client in its use of the API. This is what Fielding terms &ldquo;hypermedia as the engine of application state&rdquo; (<a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a>). Connectedness is achieved through the use of links and forms. Richardson and Amundsen (2013) discuss HATEOAS at length. The main part of the book is centred on this; the hypermedia as the engine of application state.</p>

<p>How a web site is built for human use is the way I think of connectedness. These kinds of sites usually have some kind of menu, and the menu allows the human user to move from one page to another without having to construct URLs, the user just has to click on a link, a hyperlink. This does not mean that every representation in your API needs to include all possible links in the API. It means that enough information should be included in the representation to guide the client to the next step, or resource.</p>

<p>Let&rsquo;s say you are on a page that lists Volvo cars, and from this page it is not necessary to get to a list of Scania trucks with just one click, with one request. It is probably enough to give a link on the list of Volvo cars to a page listing different car brands, from there to a list of vehicle types, and so on. This could result in the following structure for the client to work with:
<ul>
    <li>vehicles
        <ul>
            <li>cars
                <ul>
                    <li>SAAB</li>
                    <li>Volvo</li>
                    <li>&hellip;</li>
                </ul>
            </li>
            <li>trucks
                <ul>
                    <li>Mack</li>
                    <li>Scania</li>
                    <li>&hellip;</li>
                </ul>
            </li>
        </ul>
    </li>
</ul></p>

<h2 id="two-cents-summary">Two cents summary</h2>

<p>Resources are things; therefore it is a good idea to use descriptive nouns to name them, and the name of the resource should be something meaningful since each resource has to be exposed to the outside world through URLs, web addresses, which the resource name will be part of. Should the resource not be exposed it would not be consumable by clients.</p>

<p>Further, let the server be responsible for resource state and let the client be responsible for application state. This means that the client should keep track of what the client, the application, is and has been doing, while the server should only focus on the state of the resource, e.g. what kind of information the resource is holding at the moment.</p>

<p>Use the built in functionality of HTTP as intended. There is no need to create new methods or new response codes, the built in will suffice. This also applies to the use of a method to something it was not designed to do; a GET request should do a read operation and not a deletion of that same resource. Deciding to use a uniform interface implies that, as a developer and as a consumer of the API, you submit to the intended use of the same uniform interface.</p>

<p>Finally, make sure the resources are connected, let the API be responsible for how resources relate to each other.</p>

<p>To be RESTful is in a way to be lazy since many of the mechanical parts are already in place. Creating RESTful APIs exudes DRY - Don&rsquo;t Repeat Yourself.</p>

      </section>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="https://avatars0.githubusercontent.com/u/1087075" alt="Author" />
          <span class="post-card-author"><a href="/">Jonas</a></span>
      </footer>
    </div>
</article>
    </div>

    <nav class="pagination" role="navigation">
      
          <a class="newer-posts" href="/2015/08/07/scrum-so-far-a-set-of-articles/">&larr; <span class="hide">Next Post</span></a>
      
      <span class="page-number">&nbsp;</span>
      
          <a class="older-posts" href="/2014/02/14/all-simple-with-getsimple/"><span class="hide">Previous Post</span> &rarr;</a>
      
    </nav>

    
    
    

  </div>
</main>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">bldn.se</a> - CC BY-SA 4.0 © 2018 <br>
      <span style="font-size: 0.8em; color: #555;">Hugo port of <a href="https://github.com/TryGhost/Casper">Casper 2.1.7</a> by <a href="https://www.telematika.org">EM</a></span>
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        <a href="https://www.facebook.com/jonasbollden" target="_blank" rel="noopener">Facebook</a>
        <a href="https://twitter.com/jonasbollden" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/jonasbollden" target="_blank" rel="noopener">Github</a>
        <a href="https://www.linkedin.com/in/jonasbollden" target="_blank" rel="noopener">LinkedIn</a>
        
    </nav>  
  </div>
</footer>

</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.fitvids.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


  <!-- Google Analytics -->
  <script>
    var _gaq=[['_setAccount','UA-48225347-1'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>



</body></html>
